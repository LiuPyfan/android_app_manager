<?xml version="1.0" encoding="UTF-8"?>
<project name="build-wrapper" default="compile" basedir=".">

  <import file="build.xml"/>

  <exec command="rospack find rosjava"
        outputproperty="rosjava.root"
        failonerror="true"/>

  <property name="appmanandroid.root" location="${basedir}/../.."/>
  <property name="rosjava.android.library" location="${rosjava.root}/android/library"/>
  <property name="appmanandroid.library" location="${appmanandroid.root}/library"/>

  <!-- It is critical to put these path declarations *after* the
       "setup" tag in build.xml.  They have no effect if placed before
       it.  -->
  <path id="project.libraries.jars">
    <fileset dir="${rosjava.root}/java/lib">
      <exclude name="junit*.jar"/>
      <exclude name="mockito*.jar"/>
      <include name="**/*.jar"/>
    </fileset>
    <fileset dir="${appmanandroid.library}/libs">
      <include name="**/*.jar"/>
    </fileset>
    <fileset dir="${rosjava.root}/java/dist">
      <include name="**/*.jar"/>
    </fileset>
  </path>

  <path id="project.libraries.src">
    <!-- Including xmlrpc in the .src is important because it gets
         the XmlRpcClient.properties file from there, which doesn't
         happen if you just pull in the .jar file above. -->
    <pathelement location="${rosjava.root}/java/build/xmlrpc"/>

    <!-- Could probably create .jar files in ${*.library}, but
         this way is fine too. -->
    <pathelement location="${rosjava.android.library}/src"/>
    <pathelement location="${appmanandroid.library}/src"/>
    <pathelement location="${appmanandroid.library}/msg_gen/java"/>
    <pathelement location="${appmanandroid.library}/srv_gen/java"/>
  </path>
</project>
